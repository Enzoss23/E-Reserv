<div class="metrics">
  <div class="metric">Reservas confirmadas<div class="num">{{ confirmedCount }}</div></div>
  <div class="metric">Reservas pendentes<div class="num orange">{{ pendingCount }}</div></div>
  <div class="metric">Reservas canceladas<div class="num red">{{ cancelledCount }}</div></div>
  <div class="metric">Taxa de ocupação atual<div class="num">—</div></div>
  <div class="metric">No-shows recentes<div class="num red">—</div></div>
  <div class="metric actions">
    <button mat-stroked-button color="primary">Check-in</button>
    <button mat-raised-button color="primary" (click)="openNew()">Nova reserva</button>
  </div>
</div>

<div class="filters">
  <div class="title">Filtros</div>
  <div class="grid">
    <mat-form-field appearance="outline"><mat-label>ID</mat-label><input matInput /></mat-form-field>
    <mat-form-field appearance="outline"><mat-label>Cliente</mat-label><input matInput /></mat-form-field>
    <mat-form-field appearance="outline"><mat-label>Horário</mat-label><input matInput /></mat-form-field>
    <mat-form-field appearance="outline"><mat-label>Quantidade de pessoas</mat-label><input matInput /></mat-form-field>
    <mat-form-field appearance="outline"><mat-label>Ambiente</mat-label><input matInput /></mat-form-field>
    <mat-form-field appearance="outline"><mat-label>Origem</mat-label><input matInput /></mat-form-field>
    <mat-form-field appearance="outline"><mat-label>Status</mat-label><input matInput /></mat-form-field>
  </div>
</div>

<div class="table-card">
  <div class="title">Reservas</div>
  <table mat-table [dataSource]="reservations" class="mat-elevation-z0 full">
    <ng-container matColumnDef="id">
      <th mat-header-cell *matHeaderCellDef>ID</th>
      <td mat-cell *matCellDef="let e">{{ e.id }}</td>
    </ng-container>
    <ng-container matColumnDef="cliente">
      <th mat-header-cell *matHeaderCellDef>Cliente</th>
      <td mat-cell *matCellDef="let e">{{ e.name }}</td>
    </ng-container>
    <ng-container matColumnDef="horario">
      <th mat-header-cell *matHeaderCellDef>Horário</th>
      <td mat-cell *matCellDef="let e">{{ e.time }}</td>
    </ng-container>
    <ng-container matColumnDef="pessoas">
      <th mat-header-cell *matHeaderCellDef>Pessoas</th>
      <td mat-cell *matCellDef="let e">{{ e.people }}</td>
    </ng-container>
    <ng-container matColumnDef="ambiente">
      <th mat-header-cell *matHeaderCellDef>Ambiente</th>
      <td mat-cell *matCellDef="let e">{{ e.area }}</td>
    </ng-container>
    <ng-container matColumnDef="info">
      <th mat-header-cell *matHeaderCellDef>Informações</th>
      <td mat-cell *matCellDef="let e">{{ e.notes }}</td>
    </ng-container>
    <ng-container matColumnDef="origem">
      <th mat-header-cell *matHeaderCellDef>Origem</th>
      <td mat-cell *matCellDef="let e">{{ e.origin }}</td>
    </ng-container>
    <ng-container matColumnDef="status">
      <th mat-header-cell *matHeaderCellDef>Status</th>
      <td mat-cell *matCellDef="let e"><span [ngClass]="statusClass(e.status)">{{ e.status }}</span></td>
    </ng-container>
    <ng-container matColumnDef="acoes">
      <th mat-header-cell *matHeaderCellDef>Ações</th>
      <td mat-cell *matCellDef="let e">…</td>
    </ng-container>

    <tr mat-header-row *matHeaderRowDef="cols"></tr>
    <tr mat-row *matRowDef="let row; columns: cols;" (click)="openView(row)" style="cursor:pointer"></tr>
  </table>
</div>

<!-- Modal de Nova Reserva (componente separado) -->
<app-admin-new-reservation-dialog *ngIf="isNewOpen" [mode]="dialogMode" [data]="editingData" (close)="closeNew()" (confirm)="onConfirmNew($event)"></app-admin-new-reservation-dialog>



