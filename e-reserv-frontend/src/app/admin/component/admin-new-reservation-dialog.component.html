<div class="overlay">
  <div class="dialog" role="dialog" aria-modal="true" aria-label="Nova Reserva">
    <div class="dialog-header">
      <div class="dialog-title">Nova Reserva</div>
      <button class="close" type="button" aria-label="Fechar" (click)="onCancel()">&times;</button>
    </div>

    <form (ngSubmit)="onConfirm()" class="form">
      <div class="grid two">

        <!-- Status -->
        <div class="fld">
          <div class="fld-label">Status</div>
          <mat-form-field appearance="fill">
            <mat-select toggleOnClick name="status" [(ngModel)]="form.status">
              <mat-option *ngFor="let s of statuses" [value]="s">{{ s }}</mat-option>
            </mat-select>
          </mat-form-field>
        </div>

        <!-- Mesa atribuída -->
        <div class="fld">
          <div class="fld-label">Mesa Atribuída</div>
          <mat-form-field appearance="fill">
            <mat-select toggleOnClick name="assignedTable" [(ngModel)]="form.assignedTable">
              <mat-option *ngFor="let m of mesas" [value]="m">{{ m }}</mat-option>
            </mat-select>
          </mat-form-field>
        </div>

        <!-- Data -->
        <div class="fld">
          <div class="fld-label">Data da Reserva</div>
          <mat-form-field appearance="fill">
            <input matInput type="date" name="date" [(ngModel)]="form.date" required />
            <mat-icon matSuffix>calendar_today</mat-icon>
          </mat-form-field>
        </div>

        <!-- Horário -->
        <div class="fld">
          <div class="fld-label">Horário</div>
          <mat-form-field appearance="fill">
            <input matInput type="time" name="time" [(ngModel)]="form.time" required />
            <mat-icon matSuffix>schedule</mat-icon>
          </mat-form-field>
        </div>

        <!-- Quantidade de Pessoas -->
        <div class="fld">
          <div class="fld-label">Quantidade de Pessoas</div>
          <mat-form-field appearance="fill">
            <mat-select toggleOnClick name="people" [(ngModel)]="form.people">
              <mat-option *ngFor="let p of peopleOptions" [value]="p">
                {{ p }} {{ p === 1 ? 'pessoa' : 'pessoas' }}
              </mat-option>
            </mat-select>
          </mat-form-field>
        </div>

        <!-- Ambiente -->
        <div class="fld">
          <div class="fld-label">Ambiente</div>
          <mat-form-field appearance="fill">
            <mat-select toggleOnClick name="area" [(ngModel)]="form.area">
              <mat-option *ngFor="let a of ambientes" [value]="a">{{ a }}</mat-option>
            </mat-select>
          </mat-form-field>
        </div>
      </div>

      <div class="divider"></div>

      <!-- Seção Cliente -->
      <div class="section-line">
        <mat-icon class="section-ic" inline>person</mat-icon>
        <span>Informações do Cliente</span>
      </div>

      <div class="grid two">
        <div class="fld">
          <div class="fld-label">Nome Completo</div>
          <mat-form-field appearance="fill">
            <input matInput name="name" [(ngModel)]="form.name" required />
          </mat-form-field>
        </div>

        <div class="fld">
          <div class="fld-label">Telefone</div>
          <mat-form-field appearance="fill">
            <input matInput name="phone" [(ngModel)]="form.phone" />
          </mat-form-field>
        </div>

        <div class="fld">
          <div class="fld-label">E-mail</div>
          <mat-form-field appearance="fill">
            <input matInput type="email" name="email" [(ngModel)]="form.email" />
          </mat-form-field>
        </div>

        <div class="fld">
          <div class="fld-label">CPF</div>
          <mat-form-field appearance="fill">
            <input matInput name="cpf" [(ngModel)]="form.cpf" />
          </mat-form-field>
        </div>
      </div>

      <div class="divider"></div>

      <div class="section-line">
        <mat-icon class="section-ic" inline>edit</mat-icon>
        <span>Observações</span>
      </div>

      <mat-form-field appearance="fill" class="full">
        <textarea
          matInput rows="4" name="notes" [(ngModel)]="form.notes"
          placeholder="Cliente solicitou cadeirante para uma pessoa do grupo. Preferência por mesa próxima à janela">
        </textarea>
      </mat-form-field>

      <div class="dialog-actions center">
        <button mat-raised-button color="primary" type="submit">Confirmar</button>
        <button mat-raised-button color="warn" type="button" (click)="onCancel()">Cancelar</button>
      </div>
    </form>
  </div>
</div>
